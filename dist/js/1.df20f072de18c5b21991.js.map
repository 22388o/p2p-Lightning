{"version":3,"sources":["webpack:///./src/pages/Profile.vue","webpack:///UserCard.vue?1da6","webpack:///./src/pages/Profile/UserCard.vue?d4b6*","webpack:///./src/pages/Profile/UserCard.vue?e674*","webpack:///./src/pages/Profile/UserCard.vue?3324","webpack:///./src/pages/Profile/UserCard.vue?0a85*","webpack:///Profile.vue","webpack:///./src/pages/Profile.vue?3083","webpack:///./src/pages/Profile.vue?6388","webpack:///./src/pages/Profile.vue?0b86"],"names":[],"mappings":";;;;;AAAA;AACA,EAAE,mBAAO,CAAC,GAAoX;AAC9X;AACA,gBAAgB,mBAAO,CAAC,CAAyD;AACjF;AACA,EAAE,mBAAO,CAAC,GAA6F;AACvG;AACA,EAAE,mBAAO,CAAC,GAA4L;AACtM;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACyBA;AACA;AACA;AACA,iBADA;AAEA;AAAA;AACA;AADA;AAAA,GAFA;AAKA;AACA,aADA,uBACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA,gBAPA,0BAOA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA,mBAbA,6BAaA;AACA;AACA;AACA;AACA;AACA,KAlBA;AAmBA,gBAnBA,0BAmBA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA,YAzBA,sBAyBA;AACA;AACA;AA3BA,GALA;AAkCA;AACA,aADA,uBACA;AAAA;;AAEA;AACA;AACA,iEACA,IADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,SAXA,MAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+JACA,IADA,CACA;AACA;AACA,WAHA,EAIA,KAJA,CAIA;AACA;AACA,WANA;AAOA,SATA,MASA;AACA;AACA;AACA,OAjCA,EAkCA,KAlCA,CAkCA;AACA;AACA;AACA,OArCA;AAsCA,KA3CA;AA4CA,aA5CA,uBA4CA;AACA;AACA,KA9CA;AA+CA,iBA/CA,yBA+CA,KA/CA,EA+CA,IA/CA,EA+CA;AACA;AACA,wBADA;AAEA,oBAFA;AAGA;AAHA;AAKA,KArDA;AAsDA,iBAtDA,yBAsDA,KAtDA,EAsDA,IAtDA,EAsDA;AACA;AACA,wBADA;AAEA,oBAFA;AAGA;AAHA;AAKA,KA5DA;AA6DA,iBA7DA,yBA6DA,KA7DA,EA6DA,IA7DA,EA6DA;AACA;AACA,uBADA;AAEA,oBAFA;AAGA;AAHA;AAKA;AAnEA;AAlCA,G;;;;;;;AC3CA,2BAA2B,mBAAO,CAAC,GAAkD;AACrF;;;AAGA;AACA,cAAc,QAAS,WAAW,wFAAwF;;AAE1H;;;;;;;;ACPA;;AAEA;AACA,cAAc,mBAAO,CAAC,GAA0T;AAChV,4CAA4C,QAAS;AACrD;AACA;AACA,aAAa,mBAAO,CAAC,GAAgE,+BAA+B,E;;;;;;;ACPpH;AACA,EAAE,mBAAO,CAAC,GAA+X;AACzY;AACA,gBAAgB,mBAAO,CAAC,CAA4D;AACpF;AACA,EAAE,mBAAO,CAAC,GAAiG;AAC3G;AACA,EAAE,mBAAO,CAAC,GAAoM;AAC9M;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGD;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBADA;AAEA;AACA,uFADA;AAEA,2FAFA;AAGA,yFAHA;AAIA,kFAJA;AAKA;AALA,GAFA;AASA,iBATA;AAUA;AAAA;AACA,mCADA;AAEA;AACA,gBADA;AAEA;AAFA,OAFA;AAMA,gBANA;AAOA,oBAPA;AAQA,kBARA;AASA,sBATA;AAUA;AAVA;AAAA,GAVA;AAsBA,SAtBA,qBAsBA;AACA;AACA;AACA;AACA,GA1BA;AA2BA,SA3BA,qBA2BA;AACA;AACA,GA7BA;;AA8BA;AACA,YADA,sBACA;AACA;AACA;AAHA,GA9BA;AAmCA;AACA,aADA,uBACA;AAAA;;AACA;AACA;AACA;;AAEA;AACA,MAAM,iFAAN,UACA,IADA,CACA;AACA;AACA;AACA;AACA,OALA,EAMA,KANA,CAMA;AACA;AACA;AACA;AACA,OAVA;;AAcA;AACA,uDACA,IADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA,gCAFA;AAGA;AAHA;AAKA;AACA,OAbA,EAcA,KAdA,CAcA;AACA;AACA;AACA,OAjBA;AAkBA,KAxCA;AAyCA,eAzCA,yBAyCA;AAAA;;AACA;AACA;AACA;AACA,qDACA,IADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA,EASA,KATA,CASA;AACA;AACA;AACA,OAZA;AAaA,KA1DA;AA2DA,iBA3DA,yBA2DA,OA3DA,EA2DA;AAAA;;AACA;AACA;AACA,mDACA,kCADA,IAEA,qBAFA;;AAIA,MAAM,wEAAN,8BACA,IADA,CACA;AACA;AAEA;AACA,SAHA;AAIA,OANA,EAOA,KAPA,CAOA;AACA;AACA;AACA,OAVA;AAWA,KA7EA;AA8EA,kBA9EA,4BA8EA;AAAA;;AACA,iKACA,IADA,CACA;AACA;AACA,OAHA,EAIA,KAJA,CAIA;AACA;AACA,OANA;AAOA,KAtFA;AAuFA,WAvFA,qBAuFA;AACA;AACA;AACA;AACA;AACA,KA5FA;AA6FA,aA7FA,qBA6FA,SA7FA,EA6FA;AACA,aACA,mEADA;AAGA,KAjGA;AAkGA,iBAlGA,yBAkGA,KAlGA,EAkGA,IAlGA,EAkGA;AACA;AACA,wBADA;AAEA,oBAFA;AAGA;AAHA;AAKA,KAxGA;AAyGA,iBAzGA,yBAyGA,KAzGA,EAyGA,IAzGA,EAyGA;AACA;AACA,uBADA;AAEA,oBAFA;AAGA;AAHA;AAKA;AA/GA;AAnCA,G;;;;;;;AC1EA,2BAA2B,mBAAO,CAAC,GAA+C;AAClF;;;AAGA;AACA,cAAc,QAAS,gCAAgC,YAAY,kCAAkC,iBAAiB,2CAA2C,gBAAgB,QAAQ,8QAA8Q,iBAAiB,GAAG,qCAAqC,sBAAsB,GAAG,8CAA8C,qBAAqB,GAAG,qBAAqB;;AAEpnB;;;;;;;;ACPA;;AAEA;AACA,cAAc,mBAAO,CAAC,GAA+S;AACrU,4CAA4C,QAAS;AACrD;AACA;AACA,aAAa,mBAAO,CAAC,GAA6D,+BAA+B,E;;;;;;;ACPjH,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH,CAAC,qB","file":"js/1.df20f072de18c5b21991.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8431c3e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Profile.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Profile.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8431c3e8\\\",\\\"hasScoped\\\":true}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Profile.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-8431c3e8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Profile.vue\n// module id = 797\n// module chunks = 1","<template>\n  <card type=\"user\">\n    <p class=\"card-text\">\n    </p>\n    <div class=\"author\">\n      <div class=\"block block-one\"></div>\n      <div class=\"block block-two\"></div>\n      <div class=\"block block-three\"></div>\n      <div class=\"block block-four\"></div>\n\n      <img class=\"avatar\" src=\"avatar-placeholder.png\" alt=\"...\">\n      <h5 class=\"title\">\n        {{ user.person ? user.person.name() ? user.person.name() : user.username : \"Nameless Person\" }}'s {{ $t('general.profile') }}\n      </h5>\n      <p class=\"description\">\n        {{userEmail}}\n      </p>\n      <p class=\"description\">\n        {{userLocation}}\n      </p>\n    </div>\n    <p></p>\n    <div class=\"text-center\">\n      <p class=\"card-description\">\n        {{userNodeInfo}}\n      </p>\n      <p class=\"card-description\">\n        {{userDescription}}\n      </p>\n    </div>\n    <div slot=\"footer\" class=\"button-container\">\n      <base-button v-if=\"signedIn\" round @click=\"addFollow\">\n        {{ $t('general.follow') }}\n      </base-button>\n      <base-button round @click=\"emailUser\">\n        {{ $t('general.email') }}\n      </base-button>\n    </div>\n  </card>\n</template>\n<script>\n  const logger = require('heroku-logger')\n  var PRIVATE_FOLLOW_LIST = 'private/following.json'\n  export default {\n    props: ['user'],\n    data: () => ({\n      blockstack: window.blockstack\n    }),\n    computed: {\n      userEmail () {\n        if (this.user && this.user.publicInformation && this.user.publicInformation.email) {\n          return this.user.publicInformation.email\n        }\n        return ''\n      },\n      userLocation () {\n        if (this.user && this.user.publicInformation && this.user.publicInformation.location) {\n          return this.user.publicInformation.location\n        }\n        return ''\n      },\n      userDescription () {\n        if (this.user && this.user.publicInformation && this.user.publicInformation.description) {\n          return this.user.publicInformation.description\n        }\n        return ''\n      },\n      userNodeInfo () {\n        if (this.user && this.user.publicInformation && this.user.publicInformation.nodeInformation) {\n          return this.user.publicInformation.nodeInformation\n        }\n        return ''\n      },\n      signedIn () {\n        return this.blockstack.isUserSignedIn()\n      }\n    },\n    methods: {\n      addFollow () {\n        // first grab follow list\n        const blockstack = this.blockstack\n        logger.info('Grabbing followingList list')\n        blockstack.getFile(PRIVATE_FOLLOW_LIST, {decrypt: true})\n          .then((followListJson) => {\n            var updateFollowList = false\n            var followList = []\n            var storeToFollow = {username: this.user.username, name: this.user.person.name(), avatar: this.user.person.avatarUrl()}\n            if (followListJson) {\n              logger.info('followingList list: ' + followListJson)\n              followList = JSON.parse(followListJson || '[]')\n              // check if user is already a friend\n              var alreadyFollowing = followList.find(f => f.username === this.user.username)\n              if (!alreadyFollowing) {\n                followList.push(storeToFollow)\n                updateFollowList = true\n              } else {\n                logger.info('user already following')\n              }\n            } else {\n              logger.info('followingList list empty')\n              followList = [storeToFollow]\n              updateFollowList = true\n            }\n            if (updateFollowList) {\n              logger.info('Saving private file', {file: PRIVATE_FOLLOW_LIST})\n              blockstack.putFile(PRIVATE_FOLLOW_LIST, JSON.stringify(followList), {encrypt: true})\n                .then(() => {\n                  this.notifySuccess(this.$t('profile.alerts.followingUser'), null)\n                })\n                .catch((error) => {\n                  this.notifyFailure(this.$t('profile.alerts.failureFollowingUser'), error)\n                })\n            } else {\n              this.notifyWarning(this.$t('profile.alerts.alreadyFollowingUser'))\n            }\n          })\n          .catch((error) => {\n            logger.error('could not get/save followingList list: ' + error)\n            this.notifyFailure(this.$t('profile.alerts.failureFollowingUser'), error)\n          })\n      },\n      emailUser () {\n        window.location.href = 'mailto:' + this.user.publicInformation.email\n      },\n      notifySuccess (title, text) {\n        this.$vs.notify({\n          color: 'success',\n          title: title,\n          text: text\n        })\n      },\n      notifyWarning (title, text) {\n        this.$vs.notify({\n          color: 'warning',\n          title: title,\n          text: text\n        })\n      },\n      notifyFailure (title, text) {\n        this.$vs.notify({\n          color: 'danger',\n          title: title,\n          text: text\n        })\n      }\n    }\n  }\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// UserCard.vue?d9411150","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"UserCard.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-55779124\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Profile/UserCard.vue\n// module id = 800\n// module chunks = 0 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55779124\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./UserCard.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"701e3402\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-55779124\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Profile/UserCard.vue\n// module id = 801\n// module chunks = 0 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55779124\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserCard.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserCard.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55779124\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserCard.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Profile/UserCard.vue\n// module id = 802\n// module chunks = 0 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('card', {\n    attrs: {\n      \"type\": \"user\"\n    }\n  }, [_c('p', {\n    staticClass: \"card-text\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"author\"\n  }, [_c('div', {\n    staticClass: \"block block-one\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"block block-two\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"block block-three\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"block block-four\"\n  }), _vm._v(\" \"), _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": \"avatar-placeholder.png\",\n      \"alt\": \"...\"\n    }\n  }), _vm._v(\" \"), _c('h5', {\n    staticClass: \"title\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.user.person ? _vm.user.person.name() ? _vm.user.person.name() : _vm.user.username : \"Nameless Person\") + \"'s \" + _vm._s(_vm.$t('general.profile')) + \"\\n    \")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"description\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.userEmail) + \"\\n    \")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"description\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.userLocation) + \"\\n    \")])]), _vm._v(\" \"), _c('p'), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center\"\n  }, [_c('p', {\n    staticClass: \"card-description\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.userNodeInfo) + \"\\n    \")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"card-description\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.userDescription) + \"\\n    \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"button-container\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [(_vm.signedIn) ? _c('base-button', {\n    attrs: {\n      \"round\": \"\"\n    },\n    on: {\n      \"click\": _vm.addFollow\n    }\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.$t('general.follow')) + \"\\n    \")]) : _vm._e(), _vm._v(\" \"), _c('base-button', {\n    attrs: {\n      \"round\": \"\"\n    },\n    on: {\n      \"click\": _vm.emailUser\n    }\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.$t('general.email')) + \"\\n    \")])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-55779124\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Profile/UserCard.vue\n// module id = 803\n// module chunks = 0 1","<template>\n  <div class=\"wrapper\">\n    <side-bar title=\"Local Lightning\">\n      <template slot=\"links\">\n        <sidebar-link to=\"/home\" :name=\"$t('sidebar.listings')\" icon=\"tim-icons icon-paper\"/>\n        <sidebar-link v-if=\"signedIn\" to=\"/following\" :name=\"$t('sidebar.following')\" icon=\"tim-icons icon-single-02\"/>\n        <sidebar-link v-if=\"signedIn\" to=\"/settings\" :name=\"$t('sidebar.settings')\" icon=\"tim-icons icon-settings\"/>\n      </template>\n    </side-bar>\n    <div class=\"main-panel\">\n      <top-navbar></top-navbar>\n\n      <div class=\"content\">\n        <user-card :user=\"personInfo\"></user-card>\n\n        <!-- Table -->\n        <card class=\"card\" :header-classes=\"{'text-right': isRTL}\">\n          <h4 slot=\"header\" class=\"card-title\">\n            <div class=\"row app-margin\">\n              {{ $t('sidebar.listings') }}\n            </div>\n          </h4>\n          <base-table :data=\"userListings\"\n                      :columns=\"columns\">\n            <template slot=\"columns\">\n              <th>{{ $t('general.name') }}</th>\n              <th>{{ $t('general.city') }}</th>\n              <th>{{ $t('general.state') }}</th>\n              <th>{{ $t('general.country') }}</th>\n              <th>{{ $t('general.capacity') }}</th>\n              <th>{{ $t('general.currency') }}</th>\n            </template>\n            <template slot-scope=\"{row}\">\n              <td>{{row.attrs.name}}</td>\n              <td>{{row.attrs.city}}</td>\n              <td>{{row.attrs.state}}</td>\n              <td>{{row.attrs.country}}</td>\n              <td>{{row.attrs.capacity}}</td>\n              <td>{{row.attrs.currency}}</td>\n              <td  v-if=\"canDelete(row.attrs.createdBy)\"\n                   class=\"td-actions text-right\">\n\n                <!-- button delete listing -->\n                <base-button type=\"danger\" size=\"sm\" icon @click=\"deleteListing(row)\">\n                  <i class=\"tim-icons icon-simple-remove\"></i>\n                </base-button>\n              </td>\n            </template>\n          </base-table>\n        </card>\n        <!-- endof Table-->\n      </div>\n\n      <content-footer></content-footer>\n    </div>\n  </div>\n</template>\n\n<script>\n  const logger = require('heroku-logger')\n  import {\n    Person,\n    lookupProfile\n  } from 'blockstack'\n  import { User } from 'radiks'\n  import Listing from '../assets/models/Listing'\n  var PUBLIC_STORAGE_FILE = 'public/publicInformation.json'\n  var LISTING_FILE = 'Listing/listings.json'\n  import UserCard from './Profile/UserCard'\n  import TopNavbar from '../layout/starter/SampleNavbar.vue'\n  import ContentFooter from '../layout/starter/SampleFooter.vue'\n  import DashboardContent from '../layout/starter/Content.vue'\n  import MobileMenu from '../layout/starter/MobileMenu'\n\n  export default {\n    name: 'profile',\n    components: {\n      TopNavbar,\n      ContentFooter,\n      DashboardContent,\n      MobileMenu,\n      UserCard\n    },\n    props: ['user'],\n    data: () => ({\n      blockstack: window.blockstack,\n      publicInformation: {\n        name: '',\n        email: ''\n      },\n      person: '',\n      personInfo: '',\n      username: '',\n      userListings: '',\n      userData: ''\n    }),\n    mounted () {\n      this.fetchData()\n      this.getListings()\n      this.getUser()\n    },\n    created () {\n      this.profileId = this.$route.params.id\n    },\n    computed: {\n      signedIn () {\n        return this.blockstack.isUserSignedIn()\n      }\n    },\n    methods: {\n      fetchData () {\n        this.$vs.loading()\n        const blockstack = this.blockstack\n        const username = this.profileId\n\n        logger.info('looking up profile', { username: username })\n        lookupProfile(username)\n          .then((profile) => {\n            logger.info('found profile', { username: username })\n            this.person = new Person(profile)\n            this.username = username\n          })\n          .catch((error) => {\n            logger.error('could not resolve profile: ' + error)\n            this.notifyFailure(this.$t('profile.alerts.userNotFound'))\n            this.$vs.loading.close()\n          })\n\n        // get store info\n        // const options = { username: username, decrypt: false, zoneFileLookupURL: 'https://core.blockstack.org/v1/names/'}\n        const options = { username: username, decrypt: false, verify: false }\n        blockstack.getFile(PUBLIC_STORAGE_FILE, options)\n          .then((publicInformationJson) => {\n            logger.info('grabbed public information file for user', { username: username })\n            this.$vs.loading.close()\n            if (publicInformationJson !== null) {\n              var publicInformation = JSON.parse(publicInformationJson || '[]')\n              this.publicInformation = publicInformation\n              this.personInfo = {\n                username: this.username,\n                person: this.person,\n                publicInformation: this.publicInformation\n              }\n            }\n          })\n          .catch((publicInfoError) => {\n            console.error('could not resolve public info: ' + publicInfoError)\n            this.$vs.loading.close()\n          })\n      },\n      getListings () {\n        this.$vs.loading()\n        const username = this.profileId\n        const options = { username: username, decrypt: false, verify: false }\n        this.blockstack.getFile(LISTING_FILE, options) // decryption is enabled by default\n          .then((listingsJson) => {\n            var userListings = JSON.parse(listingsJson || '')\n            if (userListings) {\n              logger.info('Grabbed user listings')\n              this.userListings = userListings\n              this.$vs.loading.close()\n            }\n          })\n          .catch(() => {\n            logger.info('Could not get user listings')\n            this.$vs.loading.close()\n          })\n      },\n      deleteListing (listing) {\n        const listingToDelete = listing\n        const index = this.userListings.indexOf(listingToDelete)\n        confirm(this.$t('profile.deleteListing')) &&\n        this.userListings.splice(index, 1) &&\n        this.updateListings()\n\n        Listing.findById(listingToDelete._id)\n          .then((radiksListing) => {\n            radiksListing.destroy().then(() => {\n              // this.notifySuccess('Deleted Listing from Radiks', null)\n              this.loadListings()\n            })\n          })\n          .catch((error) => {\n            logger.info('failed to delete listing from server: ' + error)\n            this.notifyFailure(this.$t('profile.failureDeleteListing'), null)\n          })\n      },\n      updateListings () {\n        this.blockstack.putFile(LISTING_FILE, JSON.stringify(this.userListings), {encrypt: false})\n          .then(() => {\n            this.notifySuccess(this.$t('general.removed'), this.$t('profile.alerts.removedListing'))\n          })\n          .catch((error) => {\n            this.notifyFailure(this.$t('profile.alerts.failureDeleteListingUser'), error)\n          })\n      },\n      getUser () {\n        if (this.blockstack.isUserSignedIn()) {\n          this.radiksUser = User.currentUser()\n          this.userData = this.blockstack.loadUserData()\n        }\n      },\n      canDelete (createdBy) {\n        return (\n          this.userData === '' ? false : this.userData.username === createdBy\n        )\n      },\n      notifySuccess (title, text) {\n        this.$vs.notify({\n          color: 'success',\n          title: title,\n          text: text\n        })\n      },\n      notifyFailure (title, text) {\n        this.$vs.notify({\n          color: 'danger',\n          title: title,\n          text: text\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .app-margin {\n    margin: 10px;\n  }\n  .app-left-margin {\n    margin-left: 10px;\n  }\n  .app-top-minus-two-margin {\n    margin-top: -2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Profile.vue?6407fdb2","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".app-margin[data-v-8431c3e8]{margin:10px}.app-left-margin[data-v-8431c3e8]{margin-left:10px}.app-top-minus-two-margin[data-v-8431c3e8]{margin-top:-2px}\", \"\", {\"version\":3,\"sources\":[\"/Users/anthonyronning/Dev/Repos/Personal/BoltathonProject/src/pages/Profile.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,WAAa,CACd,AACD,kCACE,gBAAkB,CACnB,AACD,2CACE,eAAiB,CAClB\",\"file\":\"Profile.vue\",\"sourcesContent\":[\"\\n.app-margin[data-v-8431c3e8] {\\n  margin: 10px;\\n}\\n.app-left-margin[data-v-8431c3e8] {\\n  margin-left: 10px;\\n}\\n.app-top-minus-two-margin[data-v-8431c3e8] {\\n  margin-top: -2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8431c3e8\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Profile.vue\n// module id = 808\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8431c3e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Profile.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"8487c9e2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8431c3e8\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Profile.vue\n// module id = 812\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrapper\"\n  }, [_c('side-bar', {\n    attrs: {\n      \"title\": \"Local Lightning\"\n    }\n  }, [_c('template', {\n    slot: \"links\"\n  }, [_c('sidebar-link', {\n    attrs: {\n      \"to\": \"/home\",\n      \"name\": _vm.$t('sidebar.listings'),\n      \"icon\": \"tim-icons icon-paper\"\n    }\n  }), _vm._v(\" \"), (_vm.signedIn) ? _c('sidebar-link', {\n    attrs: {\n      \"to\": \"/following\",\n      \"name\": _vm.$t('sidebar.following'),\n      \"icon\": \"tim-icons icon-single-02\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signedIn) ? _c('sidebar-link', {\n    attrs: {\n      \"to\": \"/settings\",\n      \"name\": _vm.$t('sidebar.settings'),\n      \"icon\": \"tim-icons icon-settings\"\n    }\n  }) : _vm._e()], 1)], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"main-panel\"\n  }, [_c('top-navbar'), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('user-card', {\n    attrs: {\n      \"user\": _vm.personInfo\n    }\n  }), _vm._v(\" \"), _c('card', {\n    staticClass: \"card\",\n    attrs: {\n      \"header-classes\": {\n        'text-right': _vm.isRTL\n      }\n    }\n  }, [_c('h4', {\n    staticClass: \"card-title\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"row app-margin\"\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('sidebar.listings')) + \"\\n          \")])]), _vm._v(\" \"), _c('base-table', {\n    attrs: {\n      \"data\": _vm.userListings,\n      \"columns\": _vm.columns\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(ref) {\n        var row = ref.row;\n\n        return [_c('td', [_vm._v(_vm._s(row.attrs.name))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(row.attrs.city))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(row.attrs.state))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(row.attrs.country))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(row.attrs.capacity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(row.attrs.currency))]), _vm._v(\" \"), (_vm.canDelete(row.attrs.createdBy)) ? _c('td', {\n          staticClass: \"td-actions text-right\"\n        }, [_c('base-button', {\n          attrs: {\n            \"type\": \"danger\",\n            \"size\": \"sm\",\n            \"icon\": \"\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.deleteListing(row)\n            }\n          }\n        }, [_c('i', {\n          staticClass: \"tim-icons icon-simple-remove\"\n        })])], 1) : _vm._e()]\n      }\n    }])\n  }, [_c('template', {\n    slot: \"columns\"\n  }, [_c('th', [_vm._v(_vm._s(_vm.$t('general.name')))]), _vm._v(\" \"), _c('th', [_vm._v(_vm._s(_vm.$t('general.city')))]), _vm._v(\" \"), _c('th', [_vm._v(_vm._s(_vm.$t('general.state')))]), _vm._v(\" \"), _c('th', [_vm._v(_vm._s(_vm.$t('general.country')))]), _vm._v(\" \"), _c('th', [_vm._v(_vm._s(_vm.$t('general.capacity')))]), _vm._v(\" \"), _c('th', [_vm._v(_vm._s(_vm.$t('general.currency')))])])], 2)], 1)], 1), _vm._v(\" \"), _c('content-footer')], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8431c3e8\",\"hasScoped\":true}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Profile.vue\n// module id = 817\n// module chunks = 1"],"sourceRoot":""}